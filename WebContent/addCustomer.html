<!DOCTYPE html>
<html lang="en">
<head>
  <title>Customer Form</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="style.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <!--Font Awesome (added because you use icons in your prepend/append)-->
	<link rel="stylesheet" href="https://formden.com/static/cdn/font-awesome/4.4.0/css/font-awesome.min.css" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css"/>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script>
    $(document).ready(function(){
        var date_input=$('input[name="date"]'); //our date input has the name "date"
        var container=$('.bootstrap-iso form').length>0 ? $('.bootstrap-iso form').parent() : "body";
        $("#save").click(function() {
        	//e.preventDefault();
        	var customerName = $('#customerName').val();
    		var customerEmail = $('#customerEmail').val();  
    		var customerPhone= $('#phone').val();  
    	
    		$.ajax( { 
    			url:"/eventplannerJava/eventplanner/customerservice/customers/",
    			type: "POST",
    			dataType: "json",
    			contentType: "application/json",
    			data: {
    				'customer_name': customerName,
    				'customer_email': eventDate,
    				'customer_phone' : eventStatus,
    			},
    			statusCode: {
    				200: function(response) {
    	
    					  $("#page-message").html("Record Updated");
    					  window.location.assign("customerList.html");
    			  	},
    			  	406: function(response) {
    			  		var errors = response.responseJSON;
    			  		$(".error").html("*");
    			  		$.each(errors, function (i, message) {
    			  			$("#"+message.attributeName+"Err").html(message.message);
    			  			console.log("Error "+message.attributeName +" "+message.message)
    	    	        		});
    			  		$("#page-message").html("Fix errors and click Save");
    			  	},
    			  	
    				404 : function(jqXHR, textStatus, errorThrown) {
    					$("#page-message").html("Error:"+textStatus);
    					consule.log(errorThrown);
    		  	        console.log("error " + textStatus);
    		  	        console.log("incoming Text " + jqXHR.responseText);
    		  	      }
    				}
    			});
    	
    		//e.preventDefault();
        	
        });
        $("#cancel").click(function(){
        	window.location.assign("customerList.html");
        })
    })
</script>
  
</head>
<body class="pageBody">
<div class="container">
<div class=row>
<ul class="nav nav-pills" >
  <li role="presentation"><a href="eventsList.html">Events</a></li>
  <li role="presentation"><a href="customerList.html">Customers</a></li>
  <li role="presentation"><a href="userList.html">Users</a></li>
  <li class="logouttab pull-right" role="presentation"><a href="#">Logout</a></li>
</ul>
</div>
<div class="customerform">
<h3>Customer Form</h3> 
 <form class="formbody">
  <div class="form-group row">
	<div class="col-xs-8 col-md-offset-2">
    <label class="control-label requiredField" for="customerName">
       Customer Name
       <span class="asteriskField">
        *
       </span>
      </label>
    <input type="text" class="form-control" id="customerName">
	</div>
  </div>
  <div class="form-group row">
	<div class ="col-xs-8 col-md-offset-2">
     <label class="control-label requiredField" for="customerEmail">
       Email
       <span class="asteriskField">
        *
       </span>
      </label>
    <input type="password" class="form-control" id="pwd">
	</div>
  </div>
  <div class="form-group row">
	<div class ="col-xs-8 col-md-offset-2">
     <label class="control-label requiredField" for="phone">
       Phone
       <span class="asteriskField">
        *
       </span>
      </label>
    <input type="text" class="form-control" id="phone">
	</div>
  </div>
  <div class="row">
  	<div class="col-xs-2 col-md-offset-4"><div class="form-group">
      <div >
       <button id="save" class="btn btn-primary " name="submit" type="submit" onclick="save();">
        Save
       </button>
      </div>
     </div></div>
     <div class="col-xs-2"><div class="form-group">
      <div>
       <button class="btn btn-primary" name="submit" type="submit">
        Cancel
       </button>
      </div>
     </div></div>
  </div>
</form> 
</div>
</div>
</body>
</html>